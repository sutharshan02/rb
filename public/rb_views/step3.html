<style>
.checkbox input[type='checkbox'] {
  margin-top: 3px;
}

.work-history-complete.clearfix {
    border: 2px solid rgba(255, 114, 0, 0.5);
}
</style>
<ng-include src="'../rb_views/templates/css.html'" autoscroll></ng-include>
<div class="loading-spinner" ng-show="loading" >

  <i class="fa fa-spinner fa-spin fa-3x fa-fw"></i>
  <span class="sr-only">Loading...</span>

</div>
<section class="setup-nav">
  <div class="container">
    <div class="row">
      <ul class="clearfix">
        <li class="completed-section">
          <p>
            <img src ="../assets/images/st-1-inact.png" alt="" class="img-responsive inacitve">
            <img src ="../assets/images/st-1-act.png" alt="" class="img-responsive acitve">
            <img src ="../assets/images/done.png" alt="" class="img-responsive complte">
            <span>About you</span>
          </p>
        </li>
        <li class="completed-section">
          <p>
            <img src ="../assets/images/st-2-inact.png" alt="" class="img-responsive inacitve">
            <img src ="../assets/images/st-2-act.png" alt="" class="img-responsive acitve">
            <img src ="../assets/images/done.png" alt="" class="img-responsive complte">
            <span>Profile</span>
          </p>
        </li>
        <li class="active-step">
          <p>
            <img src ="../assets/images/st-3-inact.png" alt="" class="img-responsive inacitve">
            <img src ="../assets/images/st-3-act.png" alt="" class="img-responsive acitve">
            <img src ="../assets/images/done.png" alt="" class="img-responsive complte">
            <span>Work History</span>
          </p>
        </li>
        <li>
          <p>
            <img src ="../assets/images/st-4-inact.png" alt="" class="img-responsive inacitve">
            <img src ="../assets/images/st-4-act.png" alt="" class="img-responsive acitve">
            <img src ="../assets/images/done.png" alt="" class="img-responsive complte">
            <span>Education</span>
          </p>
        </li>
        <li>
          <p>
            <img src ="../assets/images/st-5-inact.png" alt="" class="img-responsive inacitve">
            <img src ="../assets/images/st-5-act.png" alt="" class="img-responsive acitve">
            <img src ="../assets/images/done.png" alt="" class="img-responsive complte">
            <span>Skills</span>
          </p>
        </li>
      </ul>
    </div>
  </div>
</section>
<!-- setup-nav -->
<section class="rb-inner-wrapper">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-7 col-lg-7">
        <div class="row heading">
          <div class="left">
            <h1>Step 3</h1>
          </div>
          <div class="right">
            <h1>Work History</h1>
          </div>
        </div>
        <!-- heading -->


        <section ng-show="loadingError" style="padding:10px;">

          <div class="server-error">Internal Server error, please refresh and try again.. <br/>
            If this error persists, please contact the site administrator.. </div>
          </section>
          <!-- data loading error message -->

          <!-- instruction text -->
        <section>
           <div class="alert alert-info">


Be brief and to the point when writing a summary of your job description. Make a list of your responsibilities and do not write more than one to two sentences per entry.


            </div>

        </section> 

          <div class="row work-history-section">
            <any ng-repeat="job in jobs">
              <!-- <h1>start month {{job.start_month}}</h1> -->
              <!-- <div>{{job}}</div> -->
              <div class="col-xs-12 work-history-box work-item" ng-class="{'wh-closed': job.closed}" >
                <div class="work-history-complete clearfix" >
                  <div class="left common" ng-click="toggle($index);"  >
                    <img src ="../assets/images/work-drag.png" alt="" class="img-responsive"> 
                  </div>
                  <!-- left -->
                  <div class="mid common" ng-click="toggle($index);">
                    <h4>{{job.company_name}} <span>{{job.position}}</span></h4>
                    <p>{{job.start_month_text.name + " " + job.start_year_text.name}} - 

                     <span ng-hide="job.is_present">{{job.end_month_text.name + " " + job.end_year_text.name}}  </span>

                     <span ng-show="job.is_present">to Date</span></p>
                   </div>
                   <!-- left -->
                   <div class="right common" >
                    <!-- <img src ="../assets/images/work-delete.png" alt="" class="img-responsive">   -->
                    <i ng-click="deleteJob(job.work_id, $index)" class="fa fa-trash-o work-delete-icon"></i>
                  </div>
                  <!-- left -->
                </div>
                <!-- work-history-complete -->
                <div class="col-xs-12 work-history-box wh-details ">
                  <div class="row form-section">
                    <div class="col-xs-12">
                      <label>Company Name</label>
                      <input ng-model="job.company_name" type="text" class="" placeholder="Company Name">
                    </div>
                  </div>
                  <!-- form-section --> 
                  <div class="row form-section">
                    <div class="col-xs-12 col-sm-9 col-md-8 col-lg-9">
                      <label>Position</label>
                      <input ng-model="job.position" type="text" class="" placeholder="Position">
                    </div>
                    <div class="col-xs-12 col-sm-3 col-md-4 col-lg-3">
                      <label>Company Location</label>
                      <input ng-model="job.location" type="text" class="" placeholder="Location">
                    </div>
                  </div>
                  <!-- form-section --> 
                  <div class="row form-section">
                    <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9">
                      <div class="row">
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                          <label>Start Date</label>
                          <div class="row row_clr work-date">
                            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                              <div class="row">
                             <!--  <select name="" class="boder-select" >
                                <option value="CA"></option>
                                <option value="CA">Jan</option>
                              </select> -->
                              <select class="boder-select" ng-options="item as item.name for item in months track by item.id" ng-model="job.start_month_text" ></select>



                            </div>
                          </div>
                          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                            <div class="row">
                              <!-- <select name="" class="last" >
                                <option value="CA"></option>
                                <option value="CA">2006</option>
                              </select> -->
                              <select class="last" ng-options="item as item.name for item in years track by item.id" ng-model="job.start_year_text"></select>
                            </div>
                          </div>
                        </div>
                        <!-- row_clr -->
                      </div>
                      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                        <label>End Date</label>
                        <div class="row row_clr work-date">
                          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                            <div class="row">
                              <!-- <select name="" class="boder-select" >
                                <option value="CA"></option>
                                <option value="CA">Jan</option>
                              </select> -->
                              <select class="boder-select" ng-class="{disabled: job.is_present}" ng-disabled="job.is_present" ng-options="item as item.name for item in months track by item.id" ng-model="job.end_month_text"></select>
                            </div>
                          </div>
                          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                            <div class="row">
                              <!-- <select name="" class="last">
                                <option value="CA"></option>
                                <option value="CA">2006</option>
                                <option value="CA">2007</option>
                              </select> -->
                              <select class="last" ng-class="{disabled: job.is_present}"ng-disabled="job.is_present" ng-options="item as item.name for item in years track by item.id" ng-model="job.end_year_text"></select>

                            </div>
                          </div>
                        </div>
                        <!-- row_clr -->
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
                    <label>&nbsp;</label>
                    <div class="checkbox">
                    <label class="working-box">
                      <!-- <input type="checkbox" value=""> -->
                      <input type="checkbox" ng-click='toggle_end_date_old_item($index)' ng-model="job.is_present"
                      ng-true-value="1" ng-false-value="0">
                      &nbsp; Still working here

                    </label>
                  </div>
                  </div>
                </div>
                <!-- form-section -->  
                <div class="row form-section">
                  <div class="col-xs-12">
                    <label>Job Description</label>
                    <textarea ng-model="job.description" name="" id="input" class="" rows="6" placeholder="Please type..."></textarea>
                  </div>
                </div>
                <!-- form-section -->

                <!-- form-section -->  
                <div class="row form-section">
                  <div class="col-xs-12">
                    <label>Responsibilities</label>
                    <textarea ng-model="job.responsibilities" name="" id="input" class="" rows="6" placeholder="Please type..."></textarea>
                  </div>
                </div>
                <!-- form-section -->

                <div class="row form-section">
                  <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3 pull-right">
                    <a class="add-button" href="" ng-click="updateJob(job)"> <img src ="../assets/images/add-button.png" alt="" class=""> SAVE</a>
                  </div>
                </div>
                <!-- form-section -->
                <div class="work-history-box-border">
                </div>
              </div>

            </div>

          </any>
        </div>







        <div ng-show="front_Val_failed" class="alert alert-warning"> please enter the Company Name</div>


        <!-- form-section -->

        <form name="form1">
          <div ng-show="formVisible" class="row work-history-section">
            
            <div class="col-xs-12 work-history-box">
              <div class="row form-section">
                <div class="col-xs-12">
                  <label>Company Name *</label>
                  <input ng-model="new.company_name" type="text" class="" required placeholder="Company Name" >
                </div>
              </div>
              <!-- form-section --> 
              <div class="row form-section">
                <div class="col-xs-12 col-sm-9 col-md-8 col-lg-9">
                  <label>Position </label>
                  <input ng-model="new.position" type="text" class="" placeholder="Position" >
                </div>
                <div class="col-xs-12 col-sm-3 col-md-4 col-lg-3">
                  <label>Company Location</label>
                  <input ng-model="new.location" type="text" class="" placeholder="Location">
                </div>
              </div>
              <!-- form-section --> 
              <div class="row form-section">
                <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9">
                  <div class="row">
                    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                      <label>Start Date </label>
                      <div class="row row_clr work-date">
                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                          <div class="row">
                             <!--  <select name="" class="boder-select" >
                                <option value="CA"></option>
                                <option value="CA">Jan</option>
                              </select> -->
                              <select class="boder-select" ng-options="item as item.name for item in months track by item.id" ng-model="new.start_month" ></select>
                            </div>
                          </div>
                          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                            <div class="row">
                              <!-- <select name="" class="last" >
                                <option value="CA"></option>
                                <option value="CA">2006</option>
                              </select> -->
                              <select class="last" ng-options="item as item.name for item in years track by item.id" ng-model="new.start_year"></select>
                            </div>
                          </div>
                        </div>
                        <!-- row_clr -->
                      </div>
                      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                        <label>End Date</label>
                        <div class="row row_clr work-date">
                          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                            <div class="row">
                              <!-- <select name="" class="boder-select" >
                                <option value="CA"></option>
                                <option value="CA">Jan</option>
                              </select> -->
                              <select  class="boder-select" ng-class="{disabled: disable_end_date}" ng-disabled="disable_end_date" ng-options="item as item.name for item in months track by item.id" ng-model="new.end_month">

                              </select>


                            </div>
                          </div>
                          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                            <div class="row">
                              <!-- <select name="" class="last">
                                <option value="CA"></option>
                                <option value="CA">2006</option>
                                <option value="CA">2007</option>
                              </select> -->
                              <select class="last" ng-class="{disabled: disable_end_date}" ng-disabled="disable_end_date" ng-options="item as item.name for item in years track by item.id " ng-model="new.end_year">
                               
                              </select>

                            </div>
                          </div>
                        </div>
                        <!-- row_clr -->
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
                    <label>&nbsp;</label>
                    <div class="checkbox">
                    <label class="working-box"> 
                      <!-- <input type="checkbox" value=""> -->
                      <input type="checkbox" ng-click="toggle_end_date()" ng-model="new.is_present"
                      ng-true-value="1" ng-false-value="0" >
                      &nbsp; Still working here
                    </label>
                    </div>

                     
                  </div>
                </div>
                <!-- form-section -->  
                <div class="row form-section">
                  <div class="col-xs-12">
                    <label>Job Description</label>
                    <textarea ng-model="new.description" name="" id="input" class="" rows="6" placeholder="Please type..."></textarea>
                  </div>
                </div>
                <!-- form-section -->

                <!-- form-section -->  
                <div class="row form-section">
                  <div class="col-xs-12">
                    <label>Responsibilities</label>
                    <textarea ng-model="new.responsibilities" name="" id="input" class="" rows="6" placeholder="Please type..."></textarea>
                  </div>
                </div>
                <!-- form-section -->


                <div class="row form-section">
                  <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3 pull-right">
                    <a class="add-button" href="" ng-click="addJob()"> <img src ="../assets/images/add-button.png" alt="" class=""> ADD</a>
                  </div>
                </div>
                <!-- form-section -->
                <div class="work-history-box-border">
                </div>
              </div>
            </div>



          </form>



          <div class="row form-section">
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 pull-right">
              <div class="row">
                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                  <a class="back-button" href="#/step2" ng-click="goback()">Back</a>   
                </div>
                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                  <a class="next-button" href="#/step4" ng-click="nextStep()">Next</a>   
                </div>
              </div>
            </div>
          </div>
          <!-- form-section -->
        </div>
        <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4 col-xs-offset-1 preview-section">
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 preview-wrapper">
              <ng-include ng-if="!previewOpen" src="'../rb_views/templates/'+ preview_template_id +'/cv.html?23'" autoscroll>
            </div>
            <!-- preview-wrapper -->
          </div>
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 preview-button"  ng-click="openPreview()">
              <h6>
                <img src ="../assets/images/preview-button.png" alt="" class="img-responsive logo-image">
              </h6>
            </div>
            <!-- preview-wrapper -->
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- rb-inner-wrapper -->



  <!-- Modal -->
  <div ng-if="previewOpen" id="myModal" class="modal fade in " ng-click="closePreview()" ng-style="modalOpenStyle" >
    <div class="modal-dialog modal-lg" ng-click="$event.stopImmediatePropagation()">

      <!-- Modal content-->
      <div class="modal-content">
  <!--       <div class="modal-header">
          <button type="button" ng-click="closePreview()" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title"></h4>
        </div> -->
        <div class="modal-body" style="height: 80vh; overflow-y: scroll;">
         
          <ng-include src="'../rb_views/templates/'+ preview_template_id +'/cv.html?3'" autoscroll>

        </ng-include>

      </div>
      
    </div>

  </div>
</div>

<style>
select.disabled {
  background: #eee;
}

select.disabled, select.disabled * {
  color: #eee;
}
</style>